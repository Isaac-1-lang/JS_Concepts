{
    "openapi": "3.0.0",
    "info": {
    "title": "Course Management System API",
    "version": "1.0.0",
    "description": "A CRUD API for managing courses with user authentication and RBAC"
    },
    "servers": [
    { "url": "http://localhost:3000/api" }],
    "components": {
    "securitySchemes": {
    "bearerAuth": {
    "type": "http",
    "scheme": "bearer"
    }
    },
    "schemas": {
    "Course": {
    "type": "object",
    "properties": {
    "courseId": { "type": "integer" },
    "name": { "type": "string" },
    "instructor": { "type": "string" },
    "passMark": { "type": "integer" }
    }
    },
    "CourseInput": {
    "type": "object",
    "properties": {
    "name": { "type": "string" },
    "instructor": { "type": "string" },
    "passMark": { "type": "integer" }
    },
    "required": ["name", "instructor", "passMark"]
    },
    "CourseList": {
    "type": "array",
    "items": { "$ref": "#/components/schemas/Course" }
    },
    "Error": {
    "type": "object",
    "properties": {
    "status": { "type": "string", "example": "error" },
    "code": { "type": "integer" },"message": { "type": "string" }
    }
    }
    }
    },
    "paths": {
    "/login": {
    "post": {
    "summary": "Login to get a token",
    "requestBody": {
    "required": true,
    "content": {
    "application/json": {
    "schema": {
    "type": "object",
    "properties": {
    "username": { "type": "string" },
    "password": { "type": "string" }
    },
    "required": ["username", "password"]
    }
    }
    }
    },
    "responses": {
    "200": { "description": "Token", "content": { "application/json": {
    "schema": { "type": "object", "properties": { "token": { "type": "string" } } } } } },
    "401": { "description": "Invalid credentials", "content": {
    "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    }},
    "/courses": {
    "get": {
    "summary": "Get all courses",
    "security": [{ "bearerAuth": [] }],
    "responses": {
    "200": { "description": "List of courses", "content": { "application/json":
    { "schema": { "$ref": "#/components/schemas/CourseList" } } } },
    "401": { "description": "Unauthorized", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    },
    "post": {
    "summary": "Create a new course (admin/super-admin only)",
    "security": [{ "bearerAuth": [] }],
    "requestBody": {
    "required": true,
    "content": { "application/json": { "schema": { "$ref":
    "#/components/schemas/CourseInput" } } }
    },
    "responses": {
    "201": { "description": "Course created", "content": { "application/json":
    { "schema": { "$ref": "#/components/schemas/Course" } } } },
    "400": { "description": "Invalid input", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "401": { "description": "Unauthorized", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "403": { "description": "Forbidden", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    }
    },
    "/courses/{id}": {
    "get": {"summary": "Get a course by ID",
    "security": [{ "bearerAuth": [] }],
    "parameters": [
    { "name": "id", "in": "path", "required": true, "schema": { "type":
    "integer" } }
    ],
    "responses": {
    "200": { "description": "Course details", "content": { "application/json":
    { "schema": { "$ref": "#/components/schemas/Course" } } } },
    "401": { "description": "Unauthorized", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "404": { "description": "Course not found", "content": {
    "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    },
    "put": {
    "summary": "Update a course (admin/super-admin only)",
    "security": [{ "bearerAuth": [] }],
    "parameters": [
    { "name": "id", "in": "path", "required": true, "schema": { "type":
    "integer" } }
    ],
    "requestBody": {
    "required": true,
    "content": { "application/json": { "schema": { "$ref":
    "#/components/schemas/CourseInput" } } }
    },
    "responses": {
    "200": { "description": "Course updated", "content": {
    "application/json": { "schema": { "$ref": "#/components/schemas/Course" } }
    } },
    "400": { "description": "Invalid input", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "401": { "description": "Unauthorized", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "403": { "description": "Forbidden", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },"404": { "description": "Course not found", "content": {
    "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    },
    "delete": {
    "summary": "Delete a course (super-admin only)",
    "security": [{ "bearerAuth": [] }],
    "parameters": [
    { "name": "id", "in": "path", "required": true, "schema": { "type":
    "integer" } }
    ],
    "responses": {
    "200": { "description": "Course deleted", "content": { "application/json":
    { "schema": { "$ref": "#/components/schemas/Course" } } } },
    "401": { "description": "Unauthorized", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "403": { "description": "Forbidden", "content": { "application/json": {
    "schema": { "$ref": "#/components/schemas/Error" } } } },
    "404": { "description": "Course not found", "content": {
    "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } }
    }
    }
    }
    }
    }